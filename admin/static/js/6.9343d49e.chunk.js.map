{"version":3,"sources":["pages/Login.jsx"],"names":["schema","yup","shape","email","required","Login","props","dispatch","useDispatch","navigate","useNavigate","loading","useSelector","store","userLogin","user","useForm","resolver","yupResolver","register","handleSubmit","errors","formState","reset","useEffect","status","loginStatus","logoutClean","console","log","className","src","alt","onSubmit","data","UserLogin","type","name","id","placeholder","message","to","style","display","href","onClick"],"mappings":"+MAWMA,EAASC,MAAaC,MAAM,CAChCC,MAAOF,MAAaE,QAAQC,SAAS,iCAuHxBC,UArHD,SAACC,GAAW,IAAD,IACjBC,EAAWC,cACXC,EAAWC,cACTC,EAAYC,aAAY,SAACC,GAAD,OAAWA,EAAMC,aAAzCH,QAEAI,GALe,UAKNH,aAAY,SAACC,GAAD,OAAWA,EAAMC,oBALvB,QAKqC,CAAEC,KAAM,OAA5DA,KALe,EAWnBC,YAAQ,CACVC,SAAUC,YAAYlB,KALtBmB,EAPqB,EAOrBA,SACAC,EARqB,EAQrBA,aACaC,EATQ,EASrBC,UAAaD,OATQ,EAUrBE,MAQFC,qBAAU,WACJT,IAAI,OAAIA,QAAJ,IAAIA,OAAJ,EAAIA,EAAMU,SAA+B,WAArBV,EAAKW,cAC/BnB,EAASoB,YAAYZ,IACrBN,EAAS,QAEV,CAACM,IAOJ,OADAa,QAAQC,IAAI,QAASlB,GAEnB,qBAAKmB,UAAU,sDAAf,SACE,qBAAKA,UAAU,sDAAf,SACE,qBAAKA,UAAU,iBAAf,SACE,qBAAKA,UAAU,mBAAf,SACE,sBAAKA,UAAU,8CAAf,UACE,qBAAKA,UAAU,aAAf,SACE,qBAAKC,IAAI,kBAAkBC,IAAI,WAEjC,0DACA,oBAAIF,UAAU,oBAAd,kCACA,uBAAMA,UAAU,OAChBG,SAAUb,GA3BE,SAACc,GACvB3B,EAAS4B,YAAUD,OAyBT,UAGE,sBAAKJ,UAAU,aAAf,UACE,+CACEM,KAAK,QACLC,KAAK,QACLP,UAAU,gCACNX,EAAS,UAJf,IAKEmB,GAAG,qBACHC,YAAY,cAEblB,EAAOlB,OACN,sBAAM2B,UAAU,kBAAhB,gBACGT,QADH,IACGA,GADH,UACGA,EAAQlB,aADX,aACG,EAAeqC,aAItB,qBAAKV,UAAU,aAAf,SACE,+CACEM,KAAK,WACLC,KAAK,YACDlB,EAAS,aAHf,IAIEW,UAAU,+BACVQ,GAAG,wBACHC,YAAY,gBAGhB,qBAAKT,UAAU,OAAf,SAEE,cAAC,IAAD,CAAMW,GAAG,QAAT,SACE,wBACEX,UAAU,oEADZ,yBAQJ,sBAAKA,UAAU,yDAAf,UACE,qBAAKA,UAAU,aAAf,SACE,wBAAOA,UAAU,8BAAjB,UACE,uBAAOM,KAAK,WAAWN,UAAU,qBADnC,yBAKF,cAAC,IAAD,CAAMW,GAAI,wBAAwBX,UAAU,uBAA5C,iCAIF,qBAAKA,UAAU,OAAOY,MAAO,CAAEC,QAAS,QAAxC,SACE,yBACEP,KAAK,SACLN,UAAU,2CAFZ,UAIE,mBAAGA,UAAU,qBAJf,8BAOF,sBAAKA,UAAU,qCAAf,mCACyB,IACvB,mBACEc,KAAK,qBACLC,QA9EC,WACjBpC,EAAS,oBA8EOqB,UAAU,eAHZ","file":"static/js/6.9343d49e.chunk.js","sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { yupResolver } from \"@hookform/resolvers/yup\";\r\nimport * as yup from \"yup\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { UserLogin } from \"../Store/Services/Login\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { Link } from 'react-router-dom';\r\nimport { logoutClean } from \"../Store/slices/login.slice\";\r\nimport LoadingContainer from \"../Components/Loading\";\r\n\r\nconst schema = yup.object().shape({\r\n  email: yup.string().email().required(\"please provide valid email.\"),\r\n});\r\nconst Login = (props) => {\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const { loading } = useSelector((store) => store.userLogin);\r\n\r\n  const { user } = useSelector((store) => store.userLogin) ?? { user: null };\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n    reset,\r\n  } = useForm({\r\n    resolver: yupResolver(schema),\r\n  });\r\n\r\n  const onSubmitHandler = (data) => {\r\n    dispatch(UserLogin(data));\r\n  };\r\n  useEffect(() => {\r\n    if (user && user?.status && user.loginStatus === \"undone\") {\r\n      dispatch(logoutClean(user));\r\n      navigate(\"/\");\r\n    }\r\n  }, [user]);\r\n\r\n  const toRegister = () => {\r\n    navigate(\"/admin/register\");\r\n  };\r\n\r\n  console.log(\"propd\", loading);\r\n  return (\r\n    <div className=\"container-fluid page-body-wrapper full-page-wrapper\">\r\n      <div className=\"content-wrapper d-flex align-items-center auth px-0\">\r\n        <div className=\"row w-100 mx-0\">\r\n          <div className=\"col-lg-4 mx-auto\">\r\n            <div className=\"auth-form-light text-left py-5 px-4 px-sm-5\">\r\n              <div className=\"brand-logo\">\r\n                <img src=\"images/logo.png\" alt=\"logo\" />\r\n              </div>\r\n              <h4>Hello! let's get started</h4>\r\n              <h6 className=\"font-weight-light\">Sign in to continue.</h6>\r\n              <form className=\"pt-3\"\r\n              onSubmit={handleSubmit(onSubmitHandler)}\r\n              >\r\n                <div className=\"form-group\">\r\n                  <input\r\n                    type=\"email\"\r\n                    name=\"email\"\r\n                    className=\"form-control form-control-lg\"\r\n                    {...register(\"email\")}\r\n                    id=\"exampleInputEmail1\"\r\n                    placeholder=\"Username\"\r\n                  />\r\n                  {errors.email && (\r\n                    <span className=\"validationError\">\r\n                      {errors?.email?.message}\r\n                    </span>\r\n                  )}\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <input\r\n                    type=\"password\"\r\n                    name=\"password\"\r\n                    {...register(\"password\")}\r\n                    className=\"form-control form-control-lg\"\r\n                    id=\"exampleInputPassword1\"\r\n                    placeholder=\"Password\"\r\n                  />\r\n                </div>\r\n                <div className=\"mt-3\">\r\n\r\n                  <Link to=\"/Main\">\r\n                    <button\r\n                      className=\"btn btn-block btn-primary btn-lg font-weight-medium auth-form-btn\" \r\n                    >\r\n\r\n                      Sign In\r\n                    </button>\r\n                  </Link>\r\n                </div>\r\n                <div className=\"my-2 d-flex justify-content-between align-items-center\">\r\n                  <div className=\"form-check\">\r\n                    <label className=\"form-check-label text-muted\">\r\n                      <input type=\"checkbox\" className=\"form-check-input\" />\r\n                      Keep me signed in\r\n                    </label>\r\n                  </div>\r\n                  <Link to =\"/admin/forgotpassword\" className=\"auth-link text-black\">\r\n                    Forgot password?\r\n                  </Link>\r\n                </div>\r\n                <div className=\"mb-2\" style={{ display: \"none\" }}>\r\n                  <button\r\n                    type=\"submit\"\r\n                    className=\"btn btn-block btn-facebook auth-form-btn\"\r\n                  >\r\n                    <i className=\"ti-facebook mr-2\"></i>Connect using facebook\r\n                  </button>\r\n                </div>\r\n                <div className=\"text-center mt-4 font-weight-light\">\r\n                  Don't have an account?{\" \"}\r\n                  <a\r\n                    href=\"javascript:void(0)\"\r\n                    onClick={toRegister}\r\n                    className=\"text-primary\"\r\n                  >\r\n                    Create New Account\r\n                  </a>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default Login;\r\n"],"sourceRoot":""}